# Runtime mode: signals | paper | robinhood
BOT_MODE=paper

# Data settings (ETF/Futures-focused defaults)
SYMBOL=SPY
SYMBOLS=SPY,QQQ,NQ=F,ES=F
ACTIVE_SYMBOL=SPY
ETF_SYMBOLS=SPY,QQQ,IWM,DIA
FUTURES_SYMBOLS=NQ=F,ES=F,YM=F,RTY=F
TIMEFRAME=15m
PERIOD=60d
CHECK_INTERVAL_SECONDS=300
REQUIRE_MARKET_HOURS=false
USE_LAST_CLOSED_CANDLE=true
STATE_DIR=data
HEARTBEAT_CYCLES=12
DATA_STALE_AFTER_MINUTES=240
MIN_SIGNAL_WARMUP_BARS=220
ALLOW_POSITION_SCALING=false

# Telegram notifications (optional)
TELEGRAM_TOKEN=
TELEGRAM_CHAT_ID=

# Base strategy settings
RSI_PERIOD=14
RSI_OVERBOUGHT=70
RSI_OVERSOLD=30
MACD_FAST=12
MACD_SLOW=26
MACD_SIGNAL=9
STRATEGY_MIN_ADX=18
STRATEGY_MIN_VOLUME_MULTIPLIER=1.0
STRATEGY_MAX_LONG_RSI=55
STRATEGY_MIN_SHORT_RSI=45
STRATEGY_MIN_SIGNAL_SCORE=4

# ETF profile
ETF_STRATEGY_MIN_ADX=16
ETF_STRATEGY_MIN_VOLUME_MULTIPLIER=0.9
ETF_STRATEGY_MAX_LONG_RSI=58
ETF_STRATEGY_MIN_SHORT_RSI=42
ETF_MEANREV_ZSCORE_ENTRY=1.0
ETF_MEANREV_RSI_LONG_MAX=40
ETF_MEANREV_RSI_SHORT_MIN=60
ETF_MEANREV_MIN_VOLUME_MULTIPLIER=0.8
ETF_MEANREV_MIN_SIGNAL_SCORE=4

# Futures profile
FUTURES_STRATEGY_MIN_ADX=22
FUTURES_STRATEGY_MIN_VOLUME_MULTIPLIER=0.6
FUTURES_STRATEGY_MAX_LONG_RSI=56
FUTURES_STRATEGY_MIN_SHORT_RSI=44
FUTURES_MEANREV_ZSCORE_ENTRY=1.25
FUTURES_MEANREV_RSI_LONG_MAX=36
FUTURES_MEANREV_RSI_SHORT_MIN=64
FUTURES_MEANREV_MIN_VOLUME_MULTIPLIER=0.5
FUTURES_MEANREV_MIN_SIGNAL_SCORE=5
FUTURES_ALLOW_VOLUME_BYPASS=true

# Regime + higher timeframe
ALLOW_NEUTRAL_REGIME_TRADES=false
REGIME_LOOKBACK_BARS=24
REGIME_CONFIRM_BARS=2
REGIME_TREND_ADX_HIGH=22
REGIME_CHOPPY_ADX_LOW=16
REGIME_TREND_EMA_GAP_PCT=0.0025
REGIME_CHOPPY_EMA_GAP_PCT=0.0012
REGIME_TREND_BANDWIDTH_PCT=0.018
REGIME_CHOPPY_BANDWIDTH_PCT=0.012
MEANREV_ZSCORE_ENTRY=1.1
MEANREV_RSI_LONG_MAX=38
MEANREV_RSI_SHORT_MIN=62
MEANREV_MIN_VOLUME_MULTIPLIER=0.8
MEANREV_MIN_SIGNAL_SCORE=4
ENABLE_HIGHER_TIMEFRAME_CONFIRMATION=true
HIGHER_TIMEFRAME_RESAMPLE_RULE=1h
HIGHER_TIMEFRAME_MIN_BARS=220

# Session filters (EST)
MARKET_OPEN_HOUR=9
MARKET_OPEN_MINUTE=30
MARKET_CLOSE_HOUR=16
ETF_TRADE_RTH_ONLY=true
ETF_SESSION_START_HOUR=9
ETF_SESSION_START_MINUTE=35
ETF_SESSION_END_HOUR=15
ETF_SESSION_END_MINUTE=55
FUTURES_AVOID_DAILY_MAINTENANCE=true
FUTURES_MAINTENANCE_START_HOUR=17
FUTURES_MAINTENANCE_START_MINUTE=0
FUTURES_MAINTENANCE_END_HOUR=18
FUTURES_MAINTENANCE_END_MINUTE=0
ENABLE_SCHEDULED_BLACKOUTS=true
BLACKOUT_WINDOWS_EST=09:25-09:40,09:55-10:05,13:55-14:10
BLACKOUT_WEEKDAYS=0,1,2,3,4

# Exits and holding
STOP_LOSS_PCT=0.02
TAKE_PROFIT_PCT=0.04
TRAILING_STOP_PCT=0.015
USE_ATR_PROTECTIVE_EXITS=true
ATR_STOP_MULTIPLIER=1.8
ATR_TAKE_PROFIT_MULTIPLIER=3.0
ATR_TRAILING_MULTIPLIER=1.4
ATR_PCT_FLOOR=0.005
ATR_PCT_CAP=0.08
MAX_HOLD_BARS=96

# Data quality controls
MAX_MISSING_BARS_PCT=5
MAX_ALLOWED_GAP_MULTIPLIER=3.5
MAX_ZERO_VOLUME_PCT=20
ETF_MAX_ZERO_VOLUME_PCT=10
FUTURES_MAX_ZERO_VOLUME_PCT=40

# Paper trading settings
PAPER_INITIAL_BALANCE_USD=10000
PAPER_ORDER_SIZE_USD=250

# Risk settings
MAX_DAILY_LOSS_PCT=2
MAX_TRADE_RISK_PCT=1
ETF_MAX_TRADE_RISK_PCT=1
FUTURES_MAX_TRADE_RISK_PCT=0.7
MAX_TRADES_PER_DAY=6
COOLDOWN_AFTER_LOSS_MINUTES=30
MAX_CONSECUTIVE_LOSSES=3

# Backtest gate
REQUIRE_BACKTEST_PASS=true
BACKTEST_LOOKBACK_PERIOD=6mo
BACKTEST_MIN_TRADES=20
BACKTEST_MIN_WIN_RATE_PCT=45
BACKTEST_MIN_PROFIT_FACTOR=1.1
USE_WALK_FORWARD_PRECHECK=true
WALK_FORWARD_SPLITS=4
WALK_FORWARD_MIN_BARS_PER_SPLIT=120
WALK_FORWARD_MIN_TRADES=8
WALK_FORWARD_MIN_WIN_RATE_PCT=42
WALK_FORWARD_MIN_PROFIT_FACTOR=1.05
BACKTEST_SPREAD_BPS=2
BACKTEST_SLIPPAGE_BPS=2
BACKTEST_LATENCY_BARS=1
BACKTEST_PARTIAL_FILL_PCT=1.0

# Learning settings
SYMBOL_LEARNING_RATE=0.2
FEATURE_LEARNING_RATE=0.06
FEATURE_WEIGHT_CLAMP=0.5
